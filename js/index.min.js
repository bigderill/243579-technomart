var link=document.querySelector(".lost-btn"),popupForm=document.querySelector(".write-us"),overlay=document.querySelector(".overlay"),close=popupForm.querySelector(".modal-close"),contactForm=popupForm.querySelector(".contact-form"),name=popupForm.querySelector("[name=fullname]"),mail=popupForm.querySelector("[name=email]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("fullname")}catch(o){isStorageSupport=!1}link.addEventListener("click",function(o){o.preventDefault(),popupForm.classList.add("modal-show"),overlay.classList.add("modal-show-overlay"),fullname.focus()}),storage?(name.value=storage,email.focus()):fullname.focus(),close.addEventListener("click",function(o){o.preventDefault(),popupForm.classList.remove("modal-show"),popupForm.classList.remove("modal-error"),overlay.classList.remove("modal-show-overlay")}),contactForm.addEventListener("submit",function(o){name.value&&email.value?isStorageSupport&&localStorage.setItem("fullname",name.value):(o.preventDefault(),popupForm.classList.add("modal-error"),popupForm.offsetWidth=popupForm.offsetWidth,console.log("Введите контактные данные"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),popupForm.classList.contains("modal-show")&&(popupForm.classList.remove("modal-show"),popupForm.classList.remove("modal-error"),overlay.classList.remove("modal-show-overlay")))});var mapLink=document.querySelector(".contacts-button-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.add("modal-show"),overlay.classList.add("modal-show-overlay")}),mapClose.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")}),window.addEventListener("keydown",function(o){o.preventDefault(),27===o.keyCode&&mapPopup.classList.contains("modal-show")&&(mapPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay"))});